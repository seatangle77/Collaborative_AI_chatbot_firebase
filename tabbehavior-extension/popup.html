<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      body { font-family: sans-serif; padding: 10px; width: 300px; }
      ul { padding-left: 15px; }
      li { margin-bottom: 4px; font-size: 13px; }
      .label { font-weight: bold; }
      .initial { color: #2c7; }
      .duration { color: #36c; }
      button { margin-top: 10px; padding: 6px 10px; font-size: 13px; }
    </style>
  </head>
  <body>
    <h3>TabBehavior</h3>
    <p class="label">ğŸ‘¤ å½“å‰ç”¨æˆ·ï¼š<span id="username">åŠ è½½ä¸­...</span></p>
    <p class="label">ğŸŸ¢ å½“å‰æ¿€æ´»æ ‡ç­¾é¡µï¼š</p>
    <p id="activeTab">æ­£åœ¨æ£€æµ‹...</p>

    <p class="label">â±ï¸ æœ€è¿‘ä¸€æ¬¡æ ‡ç­¾é¡µåœç•™æ—¶é—´ï¼š</p>
    <p id="lastDuration">å°šæ— è®°å½•</p>

    <p class="label">ğŸ“‘ å½“å‰æ‰“å¼€çš„æ ‡ç­¾é¡µï¼š</p>
    <ul id="tabList">æ­£åœ¨åŠ è½½...</ul>
    <p class="label">ğŸ“˜ æ¯ä¸ªé¡µé¢çš„åœç•™å†å²è®°å½•ï¼š</p>
    <ul id="pageHistoryList">æ­£åœ¨åŠ è½½é¡µé¢å†å²...</ul>
    <button id="refreshBtn">ğŸ”„ åˆ·æ–°è®°å½•</button>
    <hr />
    <p class="label">ğŸ“¢ å‘é€æ¶ˆæ¯é€šçŸ¥ï¼š</p>
  <button onclick="sendNotification('Emma', 'è¯·å°½å¿«è¿›å…¥è®¨è®ºçŠ¶æ€ï¼ŒæŸ¥çœ‹æ¨èæ–‡ç« å¹¶å‘è¨€ã€‚')">ğŸ”” é€šçŸ¥ Emma</button>
  <button onclick="sendNotification('David', 'è¯·é‚€è¯· Emma å‘è¡¨çœ‹æ³•ï¼Œä¿ƒè¿›å¥¹çš„å‚ä¸ã€‚')">ğŸ”” é€šçŸ¥ David</button>
  <button onclick="sendNotification('Frank', 'è¯·å‘èµ·ä¸€ä¸ªé—®é¢˜ï¼Œå¼•å¯¼ Emma åŠ å…¥è®¨è®ºã€‚')">ğŸ”” é€šçŸ¥ Frank</button>
  <script>
    function sendNotification(user, message) {
      if (Notification.permission === 'granted') {
        new Notification(`ğŸ“¢ ç»™ ${user} çš„é€šçŸ¥`, {
          body: message,
          icon: 'icon.png'
        });
      } else if (Notification.permission !== 'denied') {
        Notification.requestPermission().then(permission => {
          if (permission === 'granted') {
            new Notification(`ğŸ“¢ ç»™ ${user} çš„é€šçŸ¥`, {
              body: message,
              icon: 'icon.png'
            });
          }
        });
      }
    }
  </script>
    <script src="popup.js"></script>
  </body>
</html>